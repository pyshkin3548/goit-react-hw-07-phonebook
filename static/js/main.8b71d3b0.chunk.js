(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{109:function(t,e,n){},11:function(t,e,n){t.exports={form:"ContactForm_form__1Ovme",label:"ContactForm_label__gt1Mj",input:"ContactForm_input__2hy6B",button:"ContactForm_button__2OBZy"}},110:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n.n(r),a=n(10),o=n.n(a),i=n(9),s=n(19),u=n(20),l=n(24),b=n(22),j=n(111),p=n(21),f=n.n(p),h=n(41),d=n.n(h),m=n(42),O=n.n(m),_=n(43),x=n.n(_),v=n(1),C=function(t){var e=t.children;return Object(v.jsx)("div",{className:x.a.container,children:e})},g=n(44),y=n.n(g),A=n(45),N=n.n(A),F=function(t){var e=t.title,n=t.level,r="h".concat(void 0===n?1:n);return Object(v.jsx)(j.a,{in:!0,appear:!0,timeout:500,classNames:y.a,unmountOnExit:!0,children:Object(v.jsx)(r,{className:N.a.Title,children:e})})},S=n(4),E=n(31),w=n.n(E),k=n(46),I=n(16),L=n.n(I),D=n(3),T=Object(D.b)("contacts/fetchContactsRequest"),R=Object(D.b)("contacts/fetchContactsSuccess"),W=Object(D.b)("contacts/fetchContactsError"),M=Object(D.b)("contacts/addContactRequest"),P=Object(D.b)("contacts/addContactSuccess"),V=Object(D.b)("contacts/addContactError"),J=Object(D.b)("contacts/deleteContactRequest"),q=Object(D.b)("contacts/deleteContactSuccess"),B=Object(D.b)("contacts/deleteContactError"),G=Object(D.b)("contacts/changeFilter");L.a.defaults.baseURL="http://localhost:4040";var Z,Q,U,X=function(){return function(){var t=Object(k.a)(w.a.mark((function t(e){var n,r;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(T()),t.prev=1,t.next=4,L.a.get("/contacts");case 4:n=t.sent,r=n.data,e(R(r)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(W(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},Y=function(t,e){return function(n){var r={name:t,number:e};n(M()),L.a.post("/contacts",r).then((function(t){var e=t.data;return n(P(e))})).catch((function(t){return n(V(t))}))}},z=function(t){return function(e){e(J()),L.a.delete("/contacts/".concat(t)).then((function(){return e(q(t))})).catch((function(t){return e(B(t))}))}},H=n(11),K=n.n(H),$=n(15),tt=n.n($),et=n(32),nt=n.n(et),rt=function(t){var e=t.text;return Object(v.jsx)("div",{className:nt.a.Container,children:Object(v.jsx)("p",{className:nt.a.Text,children:e})})},ct=n(47),at=n.n(ct),ot=n(18),it=function(t){return t.contacts.items},st=function(t){return t.contacts.filter},ut={getLoading:function(t){return t.contacts.loading},getContacts:it,getError:function(t){return t.contacts.error},getFilter:st,getVisibleContacts:Object(ot.a)([it,st],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))}))},lt=function(t){Object(l.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(s.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(t=e.call.apply(e,[this].concat(c))).state={name:"",number:"",error:!1,textAlert:""},t.inputNameId=tt.a.generate(),t.inputNumberId=tt.a.generate(),t.handleSubmit=function(e){var n=t.state,r=n.name,c=n.number;e.preventDefault(),""!==r?""!==c?t.props.contacts.some((function(t){return t.name===r}))?t.showAlert("".concat(r," is already in contacts")):(t.props.onSubmit(r,c),t.reset()):t.showAlert("Please enter the contact phone number!"):t.showAlert("Please enter your contact name!")},t.showAlert=function(e){t.reset(),t.setState({error:!0,textAlert:e}),setTimeout((function(){return t.setState({error:!1})}),2e3)},t.reset=function(){t.setState({name:"",number:""})},t.handlerChange=function(e){var n=e.currentTarget,r=n.name,c=n.value;t.setState(Object(S.a)({},r,c))},t}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=t.error,n=t.textAlert;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(j.a,{in:e,classNames:at.a,timeout:250,unmountOnExit:!0,children:Object(v.jsx)(rt,{text:n})}),Object(v.jsxs)("form",{className:K.a.form,onSubmit:this.handleSubmit,children:[Object(v.jsx)("label",{className:K.a.label,htmlFor:this.inputNameId,children:Object(v.jsx)("span",{children:"Name"})}),Object(v.jsx)("input",{className:K.a.input,type:"text",id:this.inputNameId,value:this.state.name,name:"name",placeholder:"Enter your name",onChange:this.handlerChange}),Object(v.jsx)("label",{className:K.a.label,htmlFor:this.inputNumberId,children:Object(v.jsx)("span",{children:"Number"})}),Object(v.jsx)("input",{className:K.a.input,type:"tel",id:this.inputNumberId,value:this.state.number,name:"number",placeholder:"Enter your number",onChange:this.handlerChange}),Object(v.jsx)("button",{className:K.a.button,children:"Add contact"})]})]})}}]),n}(r.Component),bt=Object(i.b)((function(t){return{contacts:ut.getContacts(t)}}),(function(t){return{onSubmit:function(e,n){return t(Y(e,n))}}}))(lt),jt=n(25),pt=n.n(jt),ft=n(23),ht=n(5),dt=Object(D.c)([],(Z={},Object(S.a)(Z,R,(function(t,e){return e.payload})),Object(S.a)(Z,P,(function(t,e){var n=e.payload;return[].concat(Object(ft.a)(t),[n])})),Object(S.a)(Z,q,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),Z)),mt=Object(D.c)(!1,(Q={},Object(S.a)(Q,T,(function(){return!0})),Object(S.a)(Q,R,(function(){return!1})),Object(S.a)(Q,W,(function(){return!1})),Object(S.a)(Q,M,(function(){return!0})),Object(S.a)(Q,P,(function(){return!1})),Object(S.a)(Q,V,(function(){return!1})),Object(S.a)(Q,J,(function(){return!0})),Object(S.a)(Q,q,(function(){return!1})),Object(S.a)(Q,B,(function(){return!1})),Q)),Ot=Object(D.c)("",Object(S.a)({},G,(function(t,e){return e.payload}))),_t=Object(D.c)(null,(U={},Object(S.a)(U,W,(function(t,e){return e.payload})),Object(S.a)(U,V,(function(t,e){return e.payload})),Object(S.a)(U,B,(function(t,e){return e.payload})),U)),xt=Object(ht.b)({items:dt,filter:Ot,loading:mt,error:_t}),vt=Object(i.b)((function(t){return{value:ut.getFilter(t)}}),(function(t){return{onChange:function(e){return t(G(e.target.value))}}}))((function(t){var e=t.name,n=t.onChange,r=tt.a.generate();return Object(v.jsxs)("div",{className:pt.a.filterWrapper,children:[Object(v.jsx)("label",{className:pt.a.label,htmlFor:r,children:Object(v.jsx)("span",{children:"Find contacts by name"})}),Object(v.jsx)("input",{className:pt.a.input,type:"text",placeholder:"Search",id:r,value:e,onChange:n})]})})),Ct=n(112),gt=n(48),yt=n.n(gt),At=n(26),Nt=n.n(At),Ft=function(t){var e=t.name,n=t.number,r=t.onDeleteContact;return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("li",{className:Nt.a.listItem,children:[Object(v.jsxs)("p",{className:Nt.a.text,children:[e," : ",n]}),Object(v.jsx)("button",{className:Nt.a.button,type:"button",onClick:r,children:"Delete"})]})})},St=function(t){var e=t.contacts,n=t.onDeleteContact;return Object(v.jsx)(Ct.a,{component:"ul",className:yt.a.contactList,children:e.map((function(t){var e=t.name,r=t.number,c=t.id;return Object(v.jsx)(j.a,{timeout:250,classNames:f.a,children:Object(v.jsx)(Ft,{name:e,number:r,onDeleteContact:function(){return n(c)}},c)},c)}))})},Et=Object(i.b)((function(t){return{contacts:ut.getVisibleContacts(t)}}),(function(t){return{onDeleteContact:function(e){return t(z(e))}}}))(St),wt=n(49),kt=n.n(wt),It=(n(106),n(50)),Lt=n.n(It),Dt=function(){return Object(v.jsx)("div",{className:Lt.a.Container,children:Object(v.jsx)(kt.a,{type:"TailSpin",color:"cornflowerblue",height:60,width:60})})},Tt=function(t){Object(l.a)(n,t);var e=Object(b.a)(n);function n(){return Object(s.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){var t=this;return Object(v.jsx)(C,{children:Object(v.jsxs)("div",{className:O.a.Wrapper,children:[this.props.error?Object(v.jsxs)("h1",{style:{color:"red"},children:["Error: ",this.props.error.message]}):null,Object(v.jsx)(F,{title:"Phonebook",level:1}),Object(v.jsx)(bt,{}),Object(v.jsx)(F,{title:"Contacts",level:2}),Object(v.jsx)(j.a,{in:this.props.contacts.length>1,classNames:d.a,timeout:250,unmountOnExit:!0,onExit:function(){return t.props.clearFilter()},children:Object(v.jsx)(vt,{})}),this.props.isLoadingContacts&&Object(v.jsx)(Dt,{}),Object(v.jsx)(j.a,{in:0!==this.props.visibleContacts.length||this.props.contacts.length>1,classNames:f.a,timeout:250,unmountOnExit:!0,children:Object(v.jsx)(Et,{})})]})})}}]),n}(r.Component),Rt=Object(i.b)((function(t){return{contacts:ut.getContacts(t),filter:ut.getFilter(t),isLoadingContacts:ut.getLoading(t),error:ut.getError(t),visibleContacts:ut.getVisibleContacts(t)}}),(function(t){return{fetchContacts:function(){return t(X())},clearFilter:function(){return t(G(""))}}}))(Tt),Wt=n(12),Mt=n(51),Pt=n.n(Mt),Vt=[].concat(Object(ft.a)(Object(D.d)({serializableCheck:{ignoredActions:[Wt.a,Wt.f,Wt.b,Wt.c,Wt.d,Wt.e]}})),[function(t){return function(t){return function(e){t(e)}}},Pt.a]),Jt=Object(D.a)({reducer:{contacts:xt},middleware:Vt});n(108),n(109);o.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(i.a,{store:Jt,children:Object(v.jsx)(Rt,{})})}),document.getElementById("root"))},21:function(t,e,n){t.exports={enter:"fade_enter__p3lvR",enterActive:"fade_enterActive__16DrE",exit:"fade_exit__3JW0g",exitActive:"fade_exitActive__23rft"}},25:function(t,e,n){t.exports={filterWrapper:"Filter_filterWrapper___WCFk",label:"Filter_label__3DcZT",input:"Filter_input__2DoVp"}},26:function(t,e,n){t.exports={text:"ContactItem_text__2VJk5",button:"ContactItem_button__Ym5Mf",listItem:"ContactItem_listItem___-4xm"}},32:function(t,e,n){t.exports={Container:"Alert_Container__3DNpE",Text:"Alert_Text__333Rp"}},41:function(t,e,n){t.exports={enter:"searchFadeStyles_enter__34Zr7",enterActive:"searchFadeStyles_enterActive__AM38y",exit:"searchFadeStyles_exit__1X_9h",exitActive:"searchFadeStyles_exitActive__xoP8A"}},42:function(t,e,n){t.exports={Wrapper:"App_Wrapper__2FdRQ"}},43:function(t,e,n){t.exports={container:"Container_container__3RIox"}},44:function(t,e,n){t.exports={appear:"appear_appear__387GC",appearActive:"appear_appearActive__2s6it"}},45:function(t,e,n){t.exports={Title:"Title_Title__3cQPx"}},47:function(t,e,n){t.exports={enter:"fadeAlertStyle_enter__Aix_o",enterActive:"fadeAlertStyle_enterActive__2f4EM",exit:"fadeAlertStyle_exit__2Yx79",exitActive:"fadeAlertStyle_exitActive__3yGfl"}},48:function(t,e,n){t.exports={contactList:"ContactList_contactList__2ehkm"}},50:function(t,e,n){t.exports={Container:"LoaderSpinner_Container__IXGU1"}}},[[110,1,2]]]);
//# sourceMappingURL=main.8b71d3b0.chunk.js.map